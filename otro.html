<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Películas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            user-select: none; /* Impide seleccionar texto */
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
        }
        .movie {
            background-color: white;
            margin: 10px;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            cursor: pointer;
            width: 150px;
        }
        .movie img {
            max-width: 100%;
            border-radius: 8px;
        }
        .movie h3 {
            margin: 10px 0 0;
            font-size: 16px;
        }
        .fullscreen-video {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 9999;
            overflow: hidden; /* Asegura que no se vean barras de desplazamiento */
        }
        .fullscreen-video video {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Cambié a 'contain' para que el video no se recorte */
        }
    </style>
</head>
<body oncontextmenu="return false;" ondragstart="return false;">

<div class="container">
    <!-- Película 1922 (2017) -->
    <div class="movie" onclick="playVideo('http://vod.tuxchannel.mx/peliculas/720/1922.mkv', 'https://image.tmdb.org/t/p/w500/q4FQOiSRhTLWulHl5Vpg37FMArH.jpg')">
        <img src="https://image.tmdb.org/t/p/w500/q4FQOiSRhTLWulHl5Vpg37FMArH.jpg" alt="1922">
        <h3>1922 (2017)</h3>
    </div>
    <!-- Película 2001: Odisea del Espacio (1968) -->
    <div class="movie" onclick="playVideo('http://vod.tuxchannel.mx/peliculas/720/2001%20a%20space%20odyssey.mkv', 'https://image.tmdb.org/t/p/w500/ve72VxNqjGM69Uky4WTo2bK6rfq.jpg')">
        <img src="https://image.tmdb.org/t/p/w500/ve72VxNqjGM69Uky4WTo2bK6rfq.jpg" alt="2001: Odisea del Espacio">
        <h3>2001: Odisea del Espacio (1968)</h3>
    </div>
</div>

<div id="fullscreen-video" class="fullscreen-video">
    <video id="video-player" controls autoplay muted></video>
</div>

<script>
    let videoPlayer = document.getElementById('video-player');
    let fullscreenVideo = document.getElementById('fullscreen-video');

    function playVideo(url, logo) {
        videoPlayer.src = url;
        fullscreenVideo.style.display = 'block';

        // Intentar reproducir el video automáticamente
        videoPlayer.play().then(function() {
            console.log('Reproducción automática iniciada');
        }).catch(function(error) {
            console.error('Error en la reproducción automática:', error);
            // Si falla la reproducción automática, intentamos mostrar un mensaje o dar control al usuario
            alert('No se pudo iniciar la reproducción automática. Haz clic para reproducir.');
        });

        // Solicitar pantalla completa
        if (fullscreenVideo.requestFullscreen) {
            fullscreenVideo.requestFullscreen();
        } else if (fullscreenVideo.mozRequestFullScreen) { // Firefox
            fullscreenVideo.mozRequestFullScreen();
        } else if (fullscreenVideo.webkitRequestFullscreen) { // Chrome, Safari
            fullscreenVideo.webkitRequestFullscreen();
        } else if (fullscreenVideo.msRequestFullscreen) { // IE/Edge
            fullscreenVideo.msRequestFullscreen();
        }

        history.pushState(null, '', '#fullscreen'); // Agregar un estado al historial
    }

    window.onpopstate = function () {
        fullscreenVideo.style.display = 'none';
        videoPlayer.pause();
    };

    // Detectar cuando el usuario salga de pantalla completa
    document.addEventListener('fullscreenchange', exitFullscreen);
    document.addEventListener('webkitfullscreenchange', exitFullscreen); // Safari
    document.addEventListener('mozfullscreenchange', exitFullscreen); // Firefox
    document.addEventListener('MSFullscreenChange', exitFullscreen); // IE/Edge

    function exitFullscreen() {
        if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.mozFullScreenElement && !document.msFullscreenElement) {
            fullscreenVideo.style.display = 'none';
            videoPlayer.pause();
        }
    }

    // Función para controlar los botones de un control remoto (Teclas de dirección y play/pausa)
    document.addEventListener('keydown', function (e) {
        switch (e.key) {
            case 'ArrowUp': // Subir volumen (simular con otras funciones si es necesario)
                console.log('Subiendo volumen');
                break;
            case 'ArrowDown': // Bajar volumen
                console.log('Bajando volumen');
                break;
            case 'ArrowLeft': // Retroceder en el video
                videoPlayer.currentTime -= 10;
                break;
            case 'ArrowRight': // Avanzar en el video
                videoPlayer.currentTime += 10;
                break;
            case 'Enter': // Play/Pause
                if (videoPlayer.paused) {
                    videoPlayer.play();
                } else {
                    videoPlayer.pause();
                }
                break;
            case 'Backspace': // Volver (detener video y regresar)
                fullscreenVideo.style.display = 'none';
                videoPlayer.pause();
                break;
        }
    });
</script>

</body>
</html>
